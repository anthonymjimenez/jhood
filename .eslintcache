[{"/Users/anti/learnCode/JS/finalProject/jhood/src/App.js":"1","/Users/anti/learnCode/JS/finalProject/jhood/src/index.js":"2","/Users/anti/learnCode/JS/finalProject/jhood/src/container/Landpage.js":"3","/Users/anti/learnCode/JS/finalProject/jhood/src/container/Dashboard.js":"4","/Users/anti/learnCode/JS/finalProject/jhood/src/components/Nav.js":"5","/Users/anti/learnCode/JS/finalProject/jhood/src/components/SignUp.js":"6","/Users/anti/learnCode/JS/finalProject/jhood/src/components/SignIn.js":"7","/Users/anti/learnCode/JS/finalProject/jhood/src/components/StockCard.js":"8","/Users/anti/learnCode/JS/finalProject/jhood/src/components/Dashfolio.js":"9","/Users/anti/learnCode/JS/finalProject/jhood/src/context/use-auth.js":"10","/Users/anti/learnCode/JS/finalProject/jhood/src/container/StockLinks.js":"11","/Users/anti/learnCode/JS/finalProject/jhood/src/components/StockLink.js":"12","/Users/anti/learnCode/JS/finalProject/jhood/src/utils/genUtils.js":"13","/Users/anti/learnCode/JS/finalProject/jhood/src/utils/UserUtils.js":"14","/Users/anti/learnCode/JS/finalProject/jhood/src/utils/GenUtils.js":"15","/Users/anti/learnCode/JS/finalProject/jhood/src/components/StockFormContainer.js":"16","/Users/anti/learnCode/JS/finalProject/jhood/src/components/StockForm.js":"17","/Users/anti/learnCode/JS/finalProject/jhood/src/container/UserPage.js":"18","/Users/anti/learnCode/JS/finalProject/jhood/src/components/SearchStocks.js":"19","/Users/anti/learnCode/JS/finalProject/jhood/src/components/UserStockTableBody.js":"20","/Users/anti/learnCode/JS/finalProject/jhood/src/container/UserStockTableContainer.js":"21","/Users/anti/learnCode/JS/finalProject/jhood/src/components/TagLink.js":"22"},{"size":1041,"mtime":1609808713691,"results":"23","hashOfConfig":"24"},{"size":672,"mtime":1608610648460,"results":"25","hashOfConfig":"24"},{"size":658,"mtime":1608148525055,"results":"26","hashOfConfig":"24"},{"size":1057,"mtime":1609795860646,"results":"27","hashOfConfig":"24"},{"size":462,"mtime":1609786120914,"results":"28","hashOfConfig":"24"},{"size":1662,"mtime":1609194767055,"results":"29","hashOfConfig":"24"},{"size":1308,"mtime":1608590359545,"results":"30","hashOfConfig":"24"},{"size":2017,"mtime":1609809685044,"results":"31","hashOfConfig":"24"},{"size":441,"mtime":1609800093110,"results":"32","hashOfConfig":"24"},{"size":8764,"mtime":1609777642824,"results":"33","hashOfConfig":"24"},{"size":477,"mtime":1609794412116,"results":"34","hashOfConfig":"24"},{"size":395,"mtime":1609794306587,"results":"35","hashOfConfig":"24"},{"size":671,"mtime":1608580138773,"results":"36","hashOfConfig":"24"},{"size":347,"mtime":1609800384745,"results":"37","hashOfConfig":"24"},{"size":708,"mtime":1608613210244,"results":"38","hashOfConfig":"24"},{"size":1321,"mtime":1609796870948,"results":"39","hashOfConfig":"24"},{"size":1213,"mtime":1609796898192,"results":"40","hashOfConfig":"24"},{"size":432,"mtime":1609803570013,"results":"41","hashOfConfig":"24"},{"size":1091,"mtime":1609794623775,"results":"42","hashOfConfig":"24"},{"size":677,"mtime":1609806755952,"results":"43","hashOfConfig":"24"},{"size":910,"mtime":1609808191490,"results":"44","hashOfConfig":"24"},{"size":257,"mtime":1609809423544,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":1,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"nbzpvg",{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"86","messages":"87","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"92","messages":"93","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/anti/learnCode/JS/finalProject/jhood/src/App.js",["96","97"],"/Users/anti/learnCode/JS/finalProject/jhood/src/index.js",[],"/Users/anti/learnCode/JS/finalProject/jhood/src/container/Landpage.js",["98"],"import React, { useEffect, useState } from \"react\";\nimport SignUp from \"../components/SignUp\";\nimport SignIn from \"../components/SignIn\";\n\nexport default function Landpage() {\n  let [toggle, setToggle] = useState(false);\n  // const auth = useAuth();\n\n  const renderToggle = () => \n    (toggle ? <SignUp/> : <SignIn/> );\n\n  return (\n    <>\n      <button onClick={() => setToggle(!toggle)}>{!toggle ?<p>Sign up</p> : <p>Sign In</p>  }</button>\n      {renderToggle()}\n    </>\n  );\n}\n\n  // const renderForm = () =>\n  //   toggleForms ? (\n  //     <LoginForm handleLogIn={auth.signin} />\n  //   ) : (\n  //     <SignupForm handleSignUp={auth.signup} />\n  //   );\n\n",["99","100"],"/Users/anti/learnCode/JS/finalProject/jhood/src/container/Dashboard.js",["101"],"/Users/anti/learnCode/JS/finalProject/jhood/src/components/Nav.js",["102"],"/Users/anti/learnCode/JS/finalProject/jhood/src/components/SignUp.js",[],["103","104"],"/Users/anti/learnCode/JS/finalProject/jhood/src/components/SignIn.js",[],["105","106"],"/Users/anti/learnCode/JS/finalProject/jhood/src/components/StockCard.js",["107","108"],"/Users/anti/learnCode/JS/finalProject/jhood/src/components/Dashfolio.js",["109","110"],"/Users/anti/learnCode/JS/finalProject/jhood/src/context/use-auth.js",["111","112","113"],"import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport { post, deleteAction, put, url, checkResponse } from \"../utils/GenUtils\";\nimport { findUserIndexes, findIndexById } from \"../utils/UserUtils\";\n\n\nconst authContext = createContext();\n\n// Provider component that wraps your app and makes auth object ...\n\n// ... available to any child component that calls useAuth().\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\n// Hook for child components to get the auth object ...\n\n// ... and re-render when it changes.\n\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\n// Provider hook that creates auth object and handles state\n\nfunction useProvideAuth() {\n \n  const [user, setUser] = useState(false);\n  const [stocks, setStocks] = useState(false);\n\n  const signin = (state) => {\n    console.log(state)\n    fetch(`${url}login`, {\n      ...post,\n      body: JSON.stringify({ ...state }),\n    }) \n      .then(checkResponse)\n      .then((r) => r.json())\n      .then((data) => {\n        console.log(data);\n        localStorage.setItem(\"id\", data.id);\n        setUser(data);\n        fetchStocks(data).then(setStocks);\n      })\n      .catch(console.error);\n  };\n\n  const signup = (state) => {\n    console.log(state);\n    fetch(`${url}users`, {\n      ...post,\n      body: JSON.stringify({ user: state }),\n    })\n      .then(checkResponse)\n      .then((resp) => resp.json())\n      .then(({user}) => {\n        console.log(user);\n        localStorage.setItem(\"id\", user.id);\n        setUser(user);\n        fetchStocks(user).then(setStocks)\n      })\n      .catch(console.error);\n  };\n\n  const signInFromToken = async () => {\n    const token = localStorage.getItem(\"id\"); // set user with token if(token & user=dne) <- that means token was set and page has been reset, in that case use token to fetch user\n    // use auth routes to restrict all routes before token is set, then use token to render user\n    if (token) {\n      try {\n        let resp = await fetch(`${url}auto_login`, {\n          ...post,\n          body: JSON.stringify({ id: token }),\n        });\n        checkResponse(resp);\n        console.log(\"hello\");\n        let data = await resp.json();\n        setUser(await data);\n        setStocks(await fetchStocks(data));\n      } catch (err) {\n        console.error(err);\n        localStorage.removeItem(\"id\");\n      }\n    }\n  };\n\n  // const updateUser = async (newUserObject) => {\n  //   const token = localStorage.getItem(\"token\"); // set user with token if(token & user=dne) <- that means token was set and page has been reset, in that case use token to fetch user\n  //     let resp = await fetch(`http://localhost:3000/api/v1/users/`, {\n  //       headers: {\n  //         Authorization: `Bearer ${token}`,\n  //         'Content-type': 'application/json'\n  //       },\n  //       method: 'PUT'\n  //     });\n  //     let data = await resp.json();\n  //     setUser(await data)\n\n  // };\n\n  const deleteUser = async () => {\n    // const token = localStorage.getItem(\"id\"); // set user with token if(token & user=dne) <- that means token was set and page has been reset, in that case use token to fetch user\n\n    let resp = await fetch(`${url}${user.id}`, {\n      ...deleteAction,\n    });\n    let data = await resp;\n    console.log(data);\n    localStorage.clear();\n  };\n  const signout = () => {\n    localStorage.clear();\n    setUser(false);\n  };\n\n  const removeUserStock = async (stock_id, userData_id) => {\n    console.log(stock_id, userData_id);\n    // let copyUser = user;\n    // console.log(copyUser.stocks.findIndex(s => s.id == stock_id))\n    // copyUser.stocks.map((s) => console.log(s.id));\n\n    // copyUser.stocks = copyUser.stocks.filter((s) => s.id == stock_id);\n    // copyUser.user_owned_stocks = copyUser.user_owned_stocks.filter(\n    //   (s) => s.id == userData_id\n    // );\n    const token = localStorage.getItem(\"id\"); // set user with token if(token & user=dne) <- that means token was set and page has been reset, in that case use token to fetch user\n    // use auth routes to restrict all routes before token is set, then use token to render user\n    if (token) {\n      let resp = await fetch(`${url}auto_login`, {\n        ...post,\n        body: JSON.stringify({ id: token }),\n      });\n      let data = await resp.json();\n      if (data.errors) {\n        console.log(data.errors);\n        localStorage.removeItem(\"id\");\n      } else {\n        setUser(await data);\n      }\n    }\n    let copyStocks = stocks\n    copyStocks[copyStocks.findIndex(s => s.id === stock_id)].userData = false\n    setStocks(copyStocks)\n    //console.log(copyStocks, copyUser)\n    //setUser(copyUser);\n  };\n  const updateState = (userData) => {\n    updateUser(userData);\n    updateStock(userData);\n  };\n  const updateUser = ({ stock, user: newUser, ...userStockData }) => {\n    // frontend update stock\n    let copyUser = user;\n    let [userStockIndex, userStockDataIndex] = findUserIndexes(\n      copyUser,\n      stock,\n      userStockData\n    );\n\n    copyUser.stocks[userStockIndex] = stock;\n    copyUser.user_owned_stocks[userStockDataIndex] = userStockData;\n\n    setUser({\n      stocks: copyUser.stocks,\n      user_owned_stocks: copyUser.user_owned_stocks,\n      ...newUser,\n    });\n  };\n\n  // create use-stocks?\n  const updateStock = ({ stock, user: newUser, ...userStockData }) => {\n    let copyStocks = stocks;\n    console.log(copyStocks[\n      findIndexById(copyStocks, stock)\n    ])\n    copyStocks[\n      findIndexById(copyStocks, stock)\n    ].userData = userStockData;\n\n    setStocks(copyStocks);\n  };\n\n  const fetchStocks = async (data) => {\n    console.log(user)\n    try {\n      let resp = await fetch(`${url}stocks`);\n      checkResponse(resp);\n      let stocks = await resp.json();\n      let finalStocks = stocks.map(s => { s.userData = false\n        return s })\n    data.user_owned_stocks?.forEach((s) => {\n      console.log(s)\n        let index = stocks.findIndex(stock => stock.id === s.stock_id ) \n        finalStocks[index].userData = s \n      });\n    console.log(stocks)\n    return finalStocks\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const buyStock = async (state) => {\n    try {\n      let resp = await fetch(`${url}buystock`, {\n        ...put,\n        body: JSON.stringify({\n          user_stock_id: state.user_stock_id,\n          sharesBought: state.shares,\n        }),\n      });\n      checkResponse(resp);\n      let userData = await resp.json();\n      console.log(userData);\n      updateState(userData);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const sellStock = async (state) => {\n    try {\n      let resp = await fetch(`${url}sellstock`, {\n        ...put,\n        body: JSON.stringify({\n          user_stock_id: state.user_stock_id,\n          sharesSold: state.shares,\n        }),\n      });\n      checkResponse(resp);\n      let userData = await resp.json();\n      userData.deleted\n        ? removeUserStock(state.stock_id, state.user_stock_id)\n        : updateState(userData);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const createStock = async (state) => {\n    try {\n      let resp = await fetch(`${url}user_owned_stocks`, {\n        ...post,\n        body: JSON.stringify({\n          user: state.user_id,\n          stock: state.stock_id,\n          sharesOwned: state.shares,\n        }),\n      });\n      checkResponse(resp);\n      let userData = await resp.json();\n      console.log(userData);\n      addNewStock(userData);\n    } catch (err) {\n      console.error(err);\n    }\n    // updateUser(userData)\n    // updateStock(userData)\n  };\n\n  const addNewStock = ({ user_owned_stock }) => {\n    console.log(user_owned_stock);\n    // add here still call updateStock()\n    updateUser(user_owned_stock);\n    updateStock(user_owned_stock);\n  };\n  const findStock = (sym) => \n    stocks ? stocks.find(stock => stock.symbol == sym) : false\n  \n  const findUserStock = (sym) => {\n    let data = (user?.user_owned_stocks) ? user.user_owned_stocks.find(stock => stock.symbol == sym) : false\n    return data == undefined ? false : data\n    } \n  // Subscribe to user on mount\n\n  // Because this sets state in the callback it will cause any ...\n\n  // ... component that utilizes this hook to re-render with the ...\n\n  // ... latest auth object.\n\n  useEffect(() => {\n    (() => (stocks ? setStocks(stocks) : setStocks(false)))();\n\n    (() => (user ? setUser(user) : setUser(false)))();\n  }, [stocks, user]);\n\n  // Return the user object and auth methods\n\n  return {\n    user,\n    stocks,\n    buyStock,\n    sellStock,\n    createStock,\n    findStock,\n    findUserStock,\n    signin,\n    signup,\n    signout,\n    signInFromToken,\n    deleteUser,\n  };\n}\n",["114","115"],"/Users/anti/learnCode/JS/finalProject/jhood/src/container/StockLinks.js",[],"/Users/anti/learnCode/JS/finalProject/jhood/src/components/StockLink.js",["116"],"/Users/anti/learnCode/JS/finalProject/jhood/src/utils/genUtils.js",[],"/Users/anti/learnCode/JS/finalProject/jhood/src/utils/UserUtils.js",[],"/Users/anti/learnCode/JS/finalProject/jhood/src/utils/GenUtils.js",[],"/Users/anti/learnCode/JS/finalProject/jhood/src/components/StockFormContainer.js",["117","118","119","120"],"/Users/anti/learnCode/JS/finalProject/jhood/src/components/StockForm.js",["121","122"],"/Users/anti/learnCode/JS/finalProject/jhood/src/container/UserPage.js",["123","124"],"/Users/anti/learnCode/JS/finalProject/jhood/src/components/SearchStocks.js",[],"/Users/anti/learnCode/JS/finalProject/jhood/src/components/UserStockTableBody.js",["125","126","127"],"/Users/anti/learnCode/JS/finalProject/jhood/src/container/UserStockTableContainer.js",["128","129"],"/Users/anti/learnCode/JS/finalProject/jhood/src/components/TagLink.js",[],{"ruleId":"130","severity":1,"message":"131","line":18,"column":6,"nodeType":"132","endLine":18,"endColumn":8,"suggestions":"133"},{"ruleId":"134","severity":2,"message":"135","line":39,"column":10,"nodeType":"136","endLine":39,"endColumn":17},{"ruleId":"137","severity":1,"message":"138","line":1,"column":17,"nodeType":"139","messageId":"140","endLine":1,"endColumn":26},{"ruleId":"141","replacedBy":"142"},{"ruleId":"143","replacedBy":"144"},{"ruleId":"137","severity":1,"message":"138","line":1,"column":16,"nodeType":"139","messageId":"140","endLine":1,"endColumn":25},{"ruleId":"137","severity":1,"message":"145","line":2,"column":10,"nodeType":"139","messageId":"140","endLine":2,"endColumn":17},{"ruleId":"141","replacedBy":"146"},{"ruleId":"143","replacedBy":"147"},{"ruleId":"141","replacedBy":"148"},{"ruleId":"143","replacedBy":"149"},{"ruleId":"130","severity":1,"message":"150","line":16,"column":6,"nodeType":"132","endLine":16,"endColumn":21,"suggestions":"151"},{"ruleId":"152","severity":1,"message":"153","line":44,"column":15,"nodeType":"154","endLine":44,"endColumn":19},{"ruleId":"137","severity":1,"message":"138","line":1,"column":17,"nodeType":"139","messageId":"140","endLine":1,"endColumn":26},{"ruleId":"137","severity":1,"message":"155","line":1,"column":28,"nodeType":"139","messageId":"140","endLine":1,"endColumn":36},{"ruleId":"156","severity":1,"message":"157","line":269,"column":48,"nodeType":"158","messageId":"159","endLine":269,"endColumn":50},{"ruleId":"156","severity":1,"message":"157","line":272,"column":94,"nodeType":"158","messageId":"159","endLine":272,"endColumn":96},{"ruleId":"156","severity":1,"message":"157","line":273,"column":17,"nodeType":"158","messageId":"159","endLine":273,"endColumn":19},{"ruleId":"141","replacedBy":"160"},{"ruleId":"143","replacedBy":"161"},{"ruleId":"137","severity":1,"message":"162","line":3,"column":10,"nodeType":"139","messageId":"140","endLine":3,"endColumn":19},{"ruleId":"137","severity":1,"message":"155","line":1,"column":17,"nodeType":"139","messageId":"140","endLine":1,"endColumn":25},{"ruleId":"137","severity":1,"message":"138","line":1,"column":27,"nodeType":"139","messageId":"140","endLine":1,"endColumn":36},{"ruleId":"137","severity":1,"message":"162","line":3,"column":10,"nodeType":"139","messageId":"140","endLine":3,"endColumn":19},{"ruleId":"137","severity":1,"message":"163","line":4,"column":21,"nodeType":"139","messageId":"140","endLine":4,"endColumn":34},{"ruleId":"137","severity":1,"message":"138","line":1,"column":27,"nodeType":"139","messageId":"140","endLine":1,"endColumn":36},{"ruleId":"137","severity":1,"message":"162","line":2,"column":10,"nodeType":"139","messageId":"140","endLine":2,"endColumn":19},{"ruleId":"137","severity":1,"message":"138","line":1,"column":17,"nodeType":"139","messageId":"140","endLine":1,"endColumn":26},{"ruleId":"137","severity":1,"message":"155","line":1,"column":28,"nodeType":"139","messageId":"140","endLine":1,"endColumn":36},{"ruleId":"137","severity":1,"message":"145","line":2,"column":10,"nodeType":"139","messageId":"140","endLine":2,"endColumn":17},{"ruleId":"137","severity":1,"message":"162","line":3,"column":10,"nodeType":"139","messageId":"140","endLine":3,"endColumn":19},{"ruleId":"137","severity":1,"message":"164","line":4,"column":10,"nodeType":"139","messageId":"140","endLine":4,"endColumn":15},{"ruleId":"137","severity":1,"message":"145","line":2,"column":10,"nodeType":"139","messageId":"140","endLine":2,"endColumn":17},{"ruleId":"137","severity":1,"message":"162","line":3,"column":10,"nodeType":"139","messageId":"140","endLine":3,"endColumn":19},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'auth'. Either include it or remove the dependency array.","ArrayExpression",["165"],"react/jsx-no-undef","'TagPage' is not defined.","JSXIdentifier","no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","no-native-reassign",["166"],"no-negated-in-lhs",["167"],"'NavLink' is defined but never used.",["166"],["167"],["166"],["167"],"React Hook useEffect has missing dependencies: 'findStock' and 'location'. Either include them or remove the dependency array.",["168"],"jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.","JSXOpeningElement","'useState' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["166"],["167"],"'financial' is defined but never used.","'TabsContainer' is defined but never used.","'Table' is defined but never used.",{"desc":"169","fix":"170"},"no-global-assign","no-unsafe-negation",{"desc":"171","fix":"172"},"Update the dependencies array to be: [auth]",{"range":"173","text":"174"},"Update the dependencies array to be: [stocks, stock, findStock, location]",{"range":"175","text":"176"},[514,516],"[auth]",[536,551],"[stocks, stock, findStock, location]"]